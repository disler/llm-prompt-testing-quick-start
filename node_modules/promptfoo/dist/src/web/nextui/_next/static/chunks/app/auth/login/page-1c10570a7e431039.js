(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{8938:function(e,t,a){"use strict";a.d(t,{Z:function(){return W}});var n=a(791),i=a(3428),r=a(2265),s=a(7042),u=a(1380),o=a(5702),l=a(5600),d=a(8153),c=a(9190),h=a(4775),p=a(7437);let m=["className","component","disableGutters","fixed","maxWidth","classes"],x=(0,h.Z)(),f=(0,c.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[`maxWidth${(0,u.Z)(String(a.maxWidth))}`],a.fixed&&t.fixed,a.disableGutters&&t.disableGutters]}}),g=e=>(0,d.Z)({props:e,name:"MuiContainer",defaultTheme:x}),b=(e,t)=>{let{classes:a,fixed:n,disableGutters:i,maxWidth:r}=e,s={root:["root",r&&`maxWidth${(0,u.Z)(String(r))}`,n&&"fixed",i&&"disableGutters"]};return(0,l.Z)(s,e=>(0,o.Z)(t,e),a)};var v=a(8702),C=a(5843),S=a(7927);let Z=function(e={}){let{createStyledComponent:t=f,useThemeProps:a=g,componentName:u="MuiContainer"}=e,o=t(({theme:e,ownerState:t})=>(0,i.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}),({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce((t,a)=>{let n=e.breakpoints.values[a];return 0!==n&&(t[e.breakpoints.up(a)]={maxWidth:`${n}${e.breakpoints.unit}`}),t},{}),({theme:e,ownerState:t})=>(0,i.Z)({},"xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}})),l=r.forwardRef(function(e,t){let r=a(e),{className:l,component:d="div",disableGutters:c=!1,fixed:h=!1,maxWidth:x="lg"}=r,f=(0,n.Z)(r,m),g=(0,i.Z)({},r,{component:d,disableGutters:c,fixed:h,maxWidth:x}),v=b(g,u);return(0,p.jsx)(o,(0,i.Z)({as:d,ownerState:g,className:(0,s.Z)(v.root,l),ref:t},f))});return l}({createStyledComponent:(0,C.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[`maxWidth${(0,v.Z)(String(a.maxWidth))}`],a.fixed&&t.fixed,a.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,S.Z)({props:e,name:"MuiContainer"})});var W=Z},8642:function(e,t,a){Promise.resolve().then(a.bind(a,6722))},6722:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var n=a(7437),i=a(2265),r=a(1396),s=a.n(r),u=a(5551),o=a(1975),l=a(8938),d=a(3226),c=a(4033),h=a(3571);function p(){let e=(0,c.useRouter)(),[t,a]=i.useState(""),[r,p]=i.useState(""),[m,x]=i.useState(""),[f,g]=i.useState(!1),[b,v]=i.useState(null),C=i.useCallback(async()=>{let{data:e,error:t}=await h.OQ.auth.refreshSession();e&&v(e.user)},[]);i.useEffect(()=>{C()},[C]);let S=async a=>{if(g(!0),x(""),a.stopPropagation(),a.preventDefault(),!b){let{data:a,error:n}=await h.OQ.auth.signInWithPassword({email:t,password:r});n?x(n.message):e.push("/")}g(!1)};return b?(0,n.jsxs)("div",{style:{textAlign:"center"},children:["You're already logged in as ",b.email,"."]}):(0,n.jsxs)(l.Z,{component:"main",maxWidth:"xs",children:[(0,n.jsx)(d.Z,{component:"h1",variant:"h5",children:"Sign in"}),(0,n.jsx)("form",{children:!b&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{disabled:f,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:e=>a(e.target.value),value:t,error:!!m}),(0,n.jsx)(o.Z,{disabled:f,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:e=>p(e.target.value),value:r,error:!!m,helperText:m}),(0,n.jsx)(u.Z,{type:"submit",disabled:f,sx:{marginTop:"1em"},fullWidth:!0,variant:"contained",color:"primary",onClick:S,children:"Sign In"}),(0,n.jsxs)("p",{children:["Don't have an account yet? ",(0,n.jsx)(s(),{href:"/auth/signup",children:"Sign up"})]})]})})]})}},3571:function(e,t,a){"use strict";a.d(t,{Ho:function(){return c},OQ:function(){return s},aC:function(){return o}});var n=a(7437),i=a(2265),r=a(3082);let s=(0,r.createClientComponentClient)(),u=(0,i.createContext)({}),o=()=>(0,i.useContext)(u),l=(e,t)=>s.auth.signInWithPassword({email:e,password:t}),d=()=>s.auth.signOut(),c=e=>{let{children:t}=e,[a,r]=(0,i.useState)(null),[o,c]=(0,i.useState)(!1),h=(0,i.useCallback)(async()=>{let{data:e,error:t}=await s.auth.refreshSession();e&&r(e.user)},[]);return(0,i.useEffect)(()=>{h();let{data:e}=s.auth.onAuthStateChange(async(e,t)=>{"PASSWORD_RECOVERY"==e?c(!1):"SIGNED_IN"===e&&t?(r(t.user),c(!0)):"SIGNED_OUT"===e&&(c(!1),r(null))});return()=>{e.subscription.unsubscribe()}},[h]),(0,n.jsx)(u.Provider,{value:{loggedIn:o,user:a,login:l,logout:d},children:t})}}},function(e){e.O(0,[293,808,548,82,975,971,596,744],function(){return e(e.s=8642)}),_N_E=e.O()}]);